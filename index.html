<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ================================
       BASIC META
       ================================ -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>ZYPSO Mart – Online Grocery Delivery</title>

  <!-- ================================
       PWA META (POLISHED)
       ================================ -->
  <meta name="theme-color" content="#22c55e" />
  <meta name="description" content="Fast & reliable grocery delivery near you" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />

  <link rel="manifest" href="/manifest.json" />
  <link rel="icon" href="/logo.png" />
  <link rel="apple-touch-icon" href="/logo.png" />

  <!-- ================================
       STYLES
       ================================ -->
  <link rel="stylesheet" href="/style.css" />

  <!-- ================================
       FONTS & ICONS
       ================================ -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
</head>

<body>

  <!-- ================================
       HEADER
       ================================ -->
  <header class="app-header">
    <div class="container logo-row">
      <div class="logo-section">
        <img src="/logo.png" alt="ZYPSO Mart" id="app-logo" />
        <div>
          <span class="app-name">ZYPSO Mart</span><br />
          <small>Fresh groceries delivered</small>
        </div>
      </div>

      <div class="header-actions">
        <button id="location-btn" class="icon-btn">
          <i class="fas fa-location-dot"></i>
        </button>

        <a id="support-link" href="tel:8090315246" class="icon-btn">
          <i class="fas fa-phone"></i>
        </a>

        <button id="auth-btn" class="icon-btn">
          <i class="fas fa-user"></i>
        </button>

        <button id="cart-btn" class="icon-btn">
          <i class="fas fa-shopping-cart"></i>
          <span id="cart-count">0</span>
        </button>
      </div>
    </div>

    <div class="container">
      <input
        type="text"
        id="product-search"
        placeholder="Search for groceries..."
      />
      <div id="category-list" class="category-scroll"></div>
    </div>
  </header>

  <!-- ================================
       MAIN CONTENT
       ================================ -->
  <main class="container">
    <div id="product-grid" class="product-grid"></div>

    <div id="loading-indicator" style="text-align:center; padding:20px;">
      Loading products…
    </div>
  </main>

  <!-- ================================
       APP ENTRY (MODULE – SAFE ORDER)
       ================================ -->
  <script type="module" src="/app.js"></script>

  <!-- ================================
       SERVICE WORKER (SAFE REGISTER)
       ================================ -->
  <script>
    if (
      'serviceWorker' in navigator &&
      (location.protocol === 'https:' || location.hostname === 'localhost')
    ) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/sw.js')
          .catch(() => {
            /* silent fail */
          });
      });
    }
  </script>

</body>
</html>
